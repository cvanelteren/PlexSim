
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Models &#8212; Plexsim 3.0 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Quickstart" href="quickstart.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p>Casper van Elteren</p>
</dd>
</dl>
</div></blockquote>
<div class="section" id="models">
<h1>Models<a class="headerlink" href="#models" title="Permalink to this headline">¬∂</a></h1>
<p>Under construction üöß.</p>
<div class="section" id="ising-model">
<h2>Ising model<a class="headerlink" href="#ising-model" title="Permalink to this headline">¬∂</a></h2>
<p>Named  after  Ernst   Ising,  the  Ising  model  is  a   mathematical  model  of
ferromagnetism.  It consists  of  a  set of  binary  distributed variables  that
follows the Gibbs  distribution. Each variable updates  through nearest neighbor
interactions where for ferromagnetic systems the lowest energy state is achieved
by aligning the spin state with its neighbors.</p>
<p>One of the major properties of the Ising model is the phase transition in two or
more dimensions, i.e.  as a function of noise (temperature)  the model goes from
an ordered phase, to an unordered phase.</p>
<p>It has bee shown  that the Ising model falls within  the same universality class
as  (directed) diffusion,  and it  has been  extended it  many different  fields
including studying neural behavior, voter dynamics and so on.</p>
</div>
<div class="section" id="potts-model">
<h2>Potts model<a class="headerlink" href="#potts-model" title="Permalink to this headline">¬∂</a></h2>
<p>The q-Potts model generalizes the Ising model.  In the Potts model the spins are
not binary but can take on arbitrary spin directions i.e.</p>
<div class="math notranslate nohighlight">
\[\theta = \frac{q_i 2 \pi}{q}\]</div>
<p><span class="math notranslate nohighlight">\(q_i \in n = \{0, \dots, q -  1\}\)</span>. In the limit <span class="math notranslate nohighlight">\(q \rightarrow \infty\)</span> this model
reduces to the  XY model. One particular interesting extensions  is the cellular
Potts  model  used   to  model  static  and  kinetic   phenomena  in  biological
morphogenesis.</p>
</div>
<div class="section" id="bornholdt-model">
<h2>Bornholdt model<a class="headerlink" href="#bornholdt-model" title="Permalink to this headline">¬∂</a></h2>
<p>Is an  extensions of the  traditional Ising  model used for  modeling financial
systems. It adds a  global cost term such that each  variable ‚Äúfeels‚Äù the effect
of the entire  system. This causes ‚Äúshocks‚Äù  in the system similar  to an abrupt
financial crisis. Each  variable can be given a strategy  that either aligns, or
skews it states  according to this general magnetization. This  causes a dynamic
between traders (variables) that either want to  be apart of the minority or the
majority state.</p>
</div>
<div class="section" id="ab-voter-model">
<h2>AB voter model<a class="headerlink" href="#ab-voter-model" title="Permalink to this headline">¬∂</a></h2>
<p>todo</p>
</div>
<div class="section" id="sirs">
<h2>SIRS<a class="headerlink" href="#sirs" title="Permalink to this headline">¬∂</a></h2>
<p>Susceptible Infected Recovered (Susceptible) or SIRS model inspired by Youssef &amp;
Scolio (2011) The article describes an individual approach to SIR modeling which
canonically uses a mean-field  approximation. In mean-field approximations nodes
are  assumed to  have  ‚Äôhomogeneous mixing‚Äô,  i.e.  a node  is  able to  receive
information  from the  entire network.  The individual  approach emphasizes  the
importance of local connectivity motifs in spreading dynamics of any process.</p>
</div>
</div>
<div class="section" id="cycledelic">
<h1>Cycledelic<a class="headerlink" href="#cycledelic" title="Permalink to this headline">¬∂</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">style</span><span class="p">;</span> <span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span><span class="o">,</span> <span class="nn">cmasher</span> <span class="k">as</span> <span class="nn">cmr</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="o">,</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span><span class="o">,</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">matplotlib.animation</span> <span class="kn">import</span> <span class="n">FuncAnimation</span> <span class="k">as</span> <span class="n">fa</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
<span class="n">C</span> <span class="o">=</span> <span class="s1">&#39;#ADC3D1&#39;</span>
<span class="kn">from</span> <span class="nn">plexsim</span> <span class="kn">import</span> <span class="n">models</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">grid_graph</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="n">periodic</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">g</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">node</span>
            <span class="n">new</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span><span class="p">,</span> <span class="p">(</span><span class="n">y</span> <span class="o">+</span> <span class="n">j</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">has_node</span><span class="p">(</span><span class="n">new</span><span class="p">):</span>
                <span class="n">g</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">new</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Cycledelic</span><span class="p">(</span><span class="n">graph</span> <span class="o">=</span> <span class="n">g</span><span class="p">,</span> <span class="n">predation</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">,</span> <span class="n">competition</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">,</span> <span class="n">diffusion</span> <span class="o">=</span> <span class="mf">.05</span><span class="p">,</span> <span class="p">)</span>
<span class="c1">#m.colors *= 255</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">simulate</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">sim</span> <span class="o">=</span> <span class="p">(</span><span class="n">sim</span> <span class="o">-</span> <span class="n">sim</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="n">sim</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="n">sim</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="n">colors</span> <span class="o">=</span> <span class="n">cmr</span><span class="o">.</span><span class="n">pride</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">nStates</span><span class="p">,</span> <span class="n">endpoint</span> <span class="o">=</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">norm</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="mi">1</span><span class="p">)[:,</span> <span class="kc">None</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">1</span><span class="p">)[:,</span> <span class="kc">None</span><span class="p">]</span><span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="mi">1</span><span class="p">)[:,</span> <span class="kc">None</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">setup</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">()}</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">sim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="c1">#C = norm(C)</span>
    <span class="n">artist</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_size</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
                           <span class="n">node_color</span> <span class="o">=</span> <span class="n">C</span><span class="p">,</span>
                                    <span class="c1">#edgecolors = C,</span>
                            <span class="n">linewidths</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                            <span class="n">node_shape</span> <span class="o">=</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">artist</span><span class="p">]</span>
<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">idx</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">ax</span><span class="p">,</span> <span class="n">sim</span><span class="p">,</span> <span class="n">text</span>
    <span class="n">text</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;T=</span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">sim</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
    <span class="c1">#C = norm(C)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">collections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ax</span><span class="o">.</span><span class="n">collections</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s2">&quot;#1c1e26&quot;</span><span class="p">)</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">xycoords</span> <span class="o">=</span> <span class="s2">&quot;axes fraction&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">C</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;Casper van Elteren&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">.11</span><span class="p">),</span> <span class="n">xycoords</span> <span class="o">=</span> <span class="s2">&quot;axes fraction&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">C</span> <span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">40</span><span class="p">,</span>
            <span class="n">ha</span> <span class="o">=</span> <span class="s1">&#39;right&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">margins</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1">#ax.set_facecolor(&#39;black&#39;)</span>
<span class="c1">#fig.set_facecolor(&#39;black&#39;)</span>
<span class="c1">#ax.set_frame_on(False)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="s2">&quot;left right top bottom&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="n">legend</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;Predation = 1.5  Competition = 2  Diffusion=0.05&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">),</span>
                     <span class="n">xycoords</span> <span class="o">=</span> <span class="s2">&quot;axes fraction&quot;</span><span class="p">,</span>
                    <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span> <span class="n">ha</span> <span class="o">=</span> <span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">va</span> <span class="o">=</span> <span class="s1">&#39;bottom&#39;</span><span class="p">)</span>
<span class="n">legend</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="n">C</span><span class="p">)</span>
<span class="n">nframes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sim</span><span class="p">)</span>
<span class="n">nframes</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="c1">#nframes = 50</span>
<span class="n">frames</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sim</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">nframes</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">int</span><span class="p">)</span>
<span class="n">ani</span> <span class="o">=</span> <span class="n">fa</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">update</span><span class="p">,</span> <span class="n">frames</span> <span class="o">=</span> <span class="n">frames</span><span class="p">,</span> <span class="n">init_func</span> <span class="o">=</span> <span class="n">setup</span><span class="p">,</span> <span class="n">blit</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">)</span>
<span class="c1">#fig.patch.set_alpha(0.)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;anim saving&#39;</span><span class="p">)</span>
<span class="n">ani</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;/home/casper/projects/site/content/post/rps/rock_paper_scissor_dynamics.mp4&quot;</span><span class="p">,</span>
         <span class="n">fps</span> <span class="o">=</span> <span class="mi">23</span><span class="p">,</span>
         <span class="n">dpi</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
         <span class="c1">#bitrate = -1,</span>
         <span class="c1">#codec = &#39;png&#39;,</span>
         <span class="c1">#savefig_kwargs = dict(facecolor = &#39;#1c1e26&#39;)</span>
         <span class="p">)</span>
<span class="c1">#fig.savefig(&quot;/home/casper/projects/site/content/post/rps/featured.png&quot;,</span>
<span class="c1">#            dpi = 400, transparent = 1</span>
<span class="c1">#            )</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;done&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>

<span class="k">def</span> <span class="nf">get_effect</span><span class="p">(</span><span class="n">effect</span><span class="p">,</span> <span class="n">N</span><span class="p">):</span>
    <span class="n">default</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">predation</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">,</span> <span class="n">competition</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">,</span> <span class="n">diffusion</span> <span class="o">=</span> <span class="mf">.05</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">effect</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="n">results</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">{})</span>
        <span class="k">for</span> <span class="n">vi</span> <span class="ow">in</span> <span class="n">v</span><span class="p">:</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">default</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">tmp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">vi</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Cycledelic</span><span class="p">(</span><span class="n">graph</span> <span class="o">=</span> <span class="n">g</span><span class="p">,</span> <span class="o">**</span><span class="n">tmp</span><span class="p">)</span>
            <span class="n">m</span><span class="o">.</span><span class="n">simulate</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
            <span class="n">results</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">vi</span><span class="p">]</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">colors</span>
    <span class="k">return</span> <span class="n">results</span>

<span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">effect</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">diffusion</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
            <span class="n">competition</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
            <span class="n">predation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">get_effect</span><span class="p">(</span><span class="n">effect</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_effects</span><span class="p">(</span><span class="n">effect</span><span class="p">):</span>
    <span class="n">C</span> <span class="o">=</span> <span class="s1">&#39;#ADC3D1&#39;</span>

    <span class="c1"># plot keep track of defaults</span>
    <span class="n">default</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">predation</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">,</span> <span class="n">competition</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">,</span> <span class="n">diffusion</span> <span class="o">=</span> <span class="mf">.05</span><span class="p">)</span>
    <span class="c1"># for every effect make grid of imshows</span>
    <span class="k">for</span> <span class="n">effect_</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">effect</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># create layout</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">object</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
            <span class="n">layout</span><span class="o">.</span><span class="n">flat</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span>

        <span class="c1"># open figure</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">constrained_layout</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplot_mosaic</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="c1"># plot data</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">axi</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="n">effect_</span><span class="p">][</span><span class="n">k</span><span class="p">]</span>
            <span class="n">axi</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">vmin</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
            <span class="c1">#axi.axis(&#39;equal&#39;)</span>
            <span class="n">axi</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">axi</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">color</span> <span class="o">=</span> <span class="n">C</span><span class="p">)</span>

        <span class="c1"># axis formatting</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.24</span><span class="p">)</span>
        <span class="n">axi</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">frameon</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="n">xticks</span> <span class="o">=</span> <span class="p">[],</span>
                        <span class="n">yticks</span> <span class="o">=</span> <span class="p">[])</span>
        <span class="c1"># titles</span>
        <span class="n">txt</span> <span class="o">=</span><span class="n">axi</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Effect of </span><span class="si">{</span><span class="n">effect_</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="mf">.9</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">38</span><span class="p">,</span> <span class="n">ha</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="p">)</span>
        <span class="n">txt</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="n">C</span><span class="p">)</span>

        <span class="c1"># legend builder</span>
        <span class="n">leg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">default</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="n">effect_</span><span class="p">:</span>
                <span class="n">leg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">legend</span> <span class="o">=</span> <span class="n">axi</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">leg</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">xycoords</span> <span class="o">=</span> <span class="s2">&quot;axes fraction&quot;</span><span class="p">,</span>
                      <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">18</span><span class="p">,</span> <span class="n">ha</span> <span class="o">=</span> <span class="s2">&quot;left&quot;</span><span class="p">)</span>
        <span class="n">legend</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="n">C</span><span class="p">)</span>
        <span class="c1"># saving</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;/home/casper/projects/site/content/post/rps/</span><span class="si">{</span><span class="n">effect_</span><span class="si">}</span><span class="s2">.png&quot;</span><span class="p">,</span> <span class="n">bbox_inches</span> <span class="o">=</span> <span class="s1">&#39;tight&#39;</span><span class="p">,</span>
                    <span class="n">dpi</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span>
                    <span class="n">transparent</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plot_effects</span><span class="p">(</span><span class="n">effect</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="agent-based-variant">
<h1>Agent-based variant<a class="headerlink" href="#agent-based-variant" title="Permalink to this headline">¬∂</a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">style</span><span class="p">;</span> <span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s2">&quot;fivethirtyeight&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span><span class="o">,</span> <span class="nn">cmasher</span> <span class="k">as</span> <span class="nn">cmr</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="o">,</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span><span class="o">,</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">plexsim.models</span> <span class="kn">import</span> <span class="n">CycledelicAgent</span>

<span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">grid_graph</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="n">periodic</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">g</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">node</span>
            <span class="n">new</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span><span class="p">,</span> <span class="p">(</span><span class="n">y</span> <span class="o">+</span> <span class="n">j</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">has_node</span><span class="p">(</span><span class="n">new</span><span class="p">):</span>
                <span class="n">g</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">new</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>

<span class="n">p</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">mob</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.</span><span class="o">/</span><span class="mf">1.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">.05</span><span class="o">/</span><span class="mf">1.5</span><span class="p">])</span> <span class="o">*</span> <span class="mf">.5</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">CycledelicAgent</span><span class="p">(</span><span class="n">graph</span> <span class="o">=</span> <span class="n">g</span><span class="p">,</span> <span class="n">mobility</span> <span class="o">=</span> <span class="n">mob</span><span class="p">,</span> <span class="n">predation</span> <span class="o">=</span> <span class="n">p</span><span class="p">,</span> <span class="n">reproduction</span> <span class="o">=</span> <span class="n">r</span><span class="p">)</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">simulate</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;done&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.animation</span> <span class="kn">import</span> <span class="n">FuncAnimation</span> <span class="k">as</span> <span class="n">fa</span>
<span class="n">C</span> <span class="o">=</span> <span class="s1">&#39;#ADC3D1&#39;</span>
<span class="n">colors</span> <span class="o">=</span> <span class="n">cmr</span><span class="o">.</span><span class="n">pride</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">nStates</span><span class="p">,</span> <span class="n">endpoint</span> <span class="o">=</span> <span class="mi">0</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">setup</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">()}</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">sim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="n">C</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)]</span>
    <span class="c1">#C = norm(C)</span>
    <span class="n">artist</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">node_size</span> <span class="o">=</span> <span class="mi">35</span><span class="p">,</span>
                           <span class="n">node_color</span> <span class="o">=</span> <span class="n">C</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmr</span><span class="o">.</span><span class="n">pride</span><span class="p">,</span> <span class="n">edgecolors</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span>
                                    <span class="n">linewidths</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                                    <span class="n">node_shape</span> <span class="o">=</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">artist</span><span class="p">]</span>
<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">idx</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">ax</span><span class="p">,</span> <span class="n">sim</span><span class="p">,</span> <span class="n">text</span>
    <span class="n">text</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;T=</span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">sim</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="n">C</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)]</span>
    <span class="c1">#C = norm(C)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">collections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ax</span><span class="o">.</span><span class="n">collections</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">xycoords</span> <span class="o">=</span> <span class="s2">&quot;axes fraction&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">C</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">28</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;Casper van Elteren&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mf">.7</span><span class="p">,</span> <span class="o">-</span><span class="mf">.05</span><span class="p">),</span> <span class="n">xycoords</span> <span class="o">=</span> <span class="s2">&quot;axes fraction&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">C</span><span class="p">,</span>
            <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">21</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">margins</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1">#ax.set_facecolor(&#39;black&#39;)</span>
<span class="c1">#fig.set_facecolor(&#39;black&#39;)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="s2">&quot;left right top bottom&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="n">legend</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Predation =</span><span class="si">{</span><span class="n">p</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">  Reproduction = </span><span class="si">{</span><span class="n">r</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">  Mobility = </span><span class="si">{</span><span class="n">mob</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">),</span>
                     <span class="n">xycoords</span> <span class="o">=</span> <span class="s2">&quot;axes fraction&quot;</span><span class="p">,</span>
                    <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="n">ha</span> <span class="o">=</span> <span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">va</span> <span class="o">=</span> <span class="s1">&#39;bottom&#39;</span><span class="p">)</span>
<span class="n">legend</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="n">C</span><span class="p">)</span>
<span class="n">nframes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sim</span><span class="p">)</span>
<span class="c1">#nframes = 50</span>
<span class="n">frames</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sim</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">nframes</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">int</span><span class="p">)</span>
<span class="n">ani</span> <span class="o">=</span> <span class="n">fa</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">update</span><span class="p">,</span> <span class="n">frames</span> <span class="o">=</span> <span class="n">frames</span><span class="p">,</span> <span class="n">init_func</span> <span class="o">=</span> <span class="n">setup</span><span class="p">,</span> <span class="n">blit</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
       <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;anim saving&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1">#ax.xaxis.set_visible(False)</span>
<span class="c1">#ax.yaxis.set_visible(False)</span>
<span class="c1">#fig.patch.set_alpha(0)</span>
<span class="n">ani</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;/home/casper/projects/site/content/post/rps/rock_paper_scissor_dynamics_abm.mp4&quot;</span><span class="p">,</span>
         <span class="n">fps</span> <span class="o">=</span> <span class="mi">23</span><span class="p">,</span>
         <span class="n">dpi</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
         <span class="c1">#codec =&#39;png&#39;,</span>
         <span class="n">bitrate</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
         <span class="n">savefig_kwargs</span><span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span> <span class="o">=</span><span class="s1">&#39;#1c1e26&#39;</span><span class="p">)</span>
         <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;done&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Plexsim</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ising-model">Ising model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#potts-model">Potts model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bornholdt-model">Bornholdt model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ab-voter-model">AB voter model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sirs">SIRS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#cycledelic">Cycledelic</a></li>
<li class="toctree-l1"><a class="reference internal" href="#agent-based-variant">Agent-based variant</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="quickstart.html" title="previous chapter">Quickstart</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Casper van Elteren.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/glossary.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>